干了这碗鸡汤(BeautifulSoup)

findAll方法
bsObj.findAll('div',{"class":"container"})

bsObj.findAll(tagName,tagAttributes)

.get_text()返回只包含文字的字符串

findAll(tag,attribute,recursive,text,limit,keywords)

find(tag,attribute,recursive,text,limit,keywords)

95%情况只需要前两个参数

.find({'h1','div'})
.findAll('span',{'class':{'red','grey'}})

.findAll(text="知晓");//匹配的是文本内容

.findAll(id="xxx");//设置关键词
对于class关键词改为class_
.findAll(class_='show')
等价于
.findAll('':{"class":"show"})

子标签
.findAll('':{"class":"show"}).children
class为show的元素所有子元素

所有之后的兄弟标签
.findAll('':{"class":"show"}).next_siblings

所有之前的兄弟标签
.findAll('':{"class":"show"}).previous_siblings

父标签
.findAll('':{"class":"show"}).parent

##获取属性

myTag.attrs获取的是对象的全部属性
myTag.attr['src']获取它的src属性

Lambda表达式

获取有两个属性的标签
bsObj.findAll(lambda tag:len(tag.attrs)==2)

http://freegeoip.net/json/host
获取host的ip地址信息,返回JSON数据

	import json
	from urllib.request import urlopen
	def getCountry(ipAddress):
		response = urlopen("http://freegeoip.net/json/"+ipAddress).read()
		.decode('utf-8')
		responseJson = json.loads(response)
		return responseJson.get("country_code")
python的json模块解析json对象





















































































































































































































































































































































































































































































































